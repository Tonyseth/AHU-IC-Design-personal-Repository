U1=[0.16 0.89 2.34 3.95 4.85 5.22 5.50 5.59 5.63 5.64 5.63 5.60 5.52 5.30 5.02 4.35 2.98 1.31 0.36];
U2=[-1.24 -1.94 -3.41 -5.01 -5.91 -6.28 -6.56 -6.65 -6.70 -6.71 -6.71 -6.65 -6.58 -6.34 -6.06 -5.40 -4.02 -2.37 -1.40];
U3=[1.26 1.96 3.51 5.06 5.94 6.31 6.59 6.68 6.71 6.72 6.71 6.67 6.59 6.36 6.08 5.41 4.03 2.36 1.44];
U4=[-0.15 -0.86 -2.31 -3.95 -4.82 -5.21 -5.48 -5.57 -5.61 -5.61 -5.60 -5.57 -5.49 -5.27 -4.97 -4.33 -2.93 -1.27 -0.36];
%求U1、U2、U3、U4和的绝对值的的平均值
U_H=1/4*(abs(U1)+abs(U2)+abs(U3)+abs(U4));
%mu为真空磁导率
mu=4*pi*10^(-7);
%N为匝数
N=3000;
%I_H为电流,单位mA
I_H=5;
%I_M mA 
I_M=500;
%L为长度
L=0.26;
%D_ave为平均直径
D_ave=0.035;
%K_H为磁场系数
K_H=171.7;
%B=(mu.*N.*I_M)./sqrt(L^2+D_ave^2);
B=U_H/(K_H*I_H).*1000;
x=[0 1 2 3 4 5 7 9 12 15 18 21 23 25 26 27 28 29 30];
%画出B-x的图像
plot(x,B);
%加上网格线,网格线要密集一些